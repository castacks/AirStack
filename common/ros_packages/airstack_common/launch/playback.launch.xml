<launch>

  <arg name="rviz_config" default="" />
  <arg name="robot_name" default="robot_1" />

  <push_ros_namespace namespace="$(var robot_name)" />

  <!-- <set_parameter name="use_sim_time" value="true" if="$(var sim)" /> -->

  <node
      pkg="rviz2"
      exec="rviz2"
      name="rviz"
      args="-d $(var rviz_config)"
      output="screen" />

  <node pkg="depth_image_proc" exec="point_cloud_xyzrgb_node" name="depth_cloud_node" output="screen">
    <remap from="depth_registered/image_rect" to="/$(var robot_name)/sensors/front_stereo/depth/depth_registered"/>
    <remap from="rgb/image_rect_color" to="/$(var robot_name)/sensors/front_stereo/left/image_rect"/>
    <remap from="rgb/camera_info" to="/$(var robot_name)/sensors/front_stereo/left/camera_info"/>
    <remap from="points" to="/$(var robot_name)/sensors/front_stereo/pointcloud" />
  </node>

  <!--
  <node
      pkg="stereo_image_proc"
      exec="point_cloud_node"
      name="stereo_pointcloud"
      output="screen">

    <remap from="left/image_rect_color" to="/$(var robot_name)/sensors/front_stereo/left/image_rect"/>
    <remap from="left/camera_info"     to="/$(var robot_name)/sensors/front_stereo/left/camera_info"/>
    <remap from="right/camera_info"     to="/$(var robot_name)/sensors/front_stereo/right/camera_info"/>
    <remap from="disparity"            to="/$(var robot_name)/sensors/front_stereo/disparity"/>
    <remap from="points2"              to="/$(var robot_name)/sensors/front_stereo/pointcloud"/>
  </node>
  -->
</launch>
